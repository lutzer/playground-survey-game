(this["webpackJsonpplayground-survey-game"]=this["webpackJsonpplayground-survey-game"]||[]).push([[0],{313:function(e,t,i){},315:function(e,t,i){},316:function(e,t,i){},325:function(e,t){},351:function(e,t,i){},352:function(e,t,i){},353:function(e,t,i){},354:function(e,t,i){},363:function(e,t,i){},364:function(e,t,i){},365:function(e,t,i){},366:function(e,t,i){},367:function(e,t,i){},368:function(e,t,i){"use strict";i.r(t);var n,s,a=i(30),c=i.n(a),r=i(295),o=i.n(r),l=(i(313),i(200)),d=i.n(l),u=i(251),h=i(52),b=i(175),p=i(63),m=i(143),f=i(107),j=i(108),v=i(263),g=i(261),O=i(102),A=i.n(O),x=i(380),y=i(27);function w(e){return new Promise((function(t){e.onSuccess=function(e){return t(e)}}))}!function(e){e.grass="grass",e.tree="tree",e.trampolin="trampolin",e.slide="slide",e.sandbox="sandbox",e.house="house",e.boulders="boulders",e.swings="swings",e.seasaw="seasaw",e.carousel="carousel",e.playhut="playhut",e.junglegym="junglegym",e.springs="springs"}(n||(n={})),function(e){e.empty="empty",e.pool="pool",e.river="river",e.lighttower="lighttower",e.alley1="alley1",e.alley2="alley2",e.trees1="trees1",e.trees2="trees2"}(s||(s={}));var k,_=function(){var e=Object(u.a)(d.a.mark((function e(t,i){var a,c,r,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new y.b(t)).useDefaultLoadingScreen=!1,e.next=4,Promise.all([w(a.addContainerTask("tile",n.tree,"assets/meshes/","tile_trees.min.gltf")),w(a.addContainerTask("tile",n.grass,"assets/meshes/","tile_grass.min.gltf")),w(a.addContainerTask("tile",n.trampolin,"assets/meshes/","tile_trampolin.min.gltf")),w(a.addContainerTask("tile",n.swings,"assets/meshes/","tile_swings.min.gltf")),w(a.addContainerTask("tile",n.slide,"assets/meshes/","tile_slide.min.gltf")),w(a.addContainerTask("tile",n.sandbox,"assets/meshes/","tile_sandbox.min.gltf")),w(a.addContainerTask("tile",n.house,"assets/meshes/","tile_house.min.gltf")),w(a.addContainerTask("tile",n.boulders,"assets/meshes/","tile_boulders.min.gltf")),w(a.addContainerTask("tile",n.seasaw,"assets/meshes/","tile_seasaw.min.gltf")),w(a.addContainerTask("tile",n.carousel,"assets/meshes/","tile_carousel.min.gltf")),w(a.addContainerTask("tile",n.playhut,"assets/meshes/","tile_playhut.min.gltf")),w(a.addContainerTask("tile",n.junglegym,"assets/meshes/","tile_junglegym.min.gltf")),w(a.addContainerTask("tile",n.springs,"assets/meshes/","tile_springs.min.gltf")),w("pool"==i?a.addContainerTask("tile",s.pool,"assets/meshes/waterbodies/","tile_pool.min.gltf"):a.addContainerTask("tile",s.river,"assets/meshes/waterbodies/","tile_stream.min.gltf")),w(a.addContainerTask("tile",s.lighttower,"assets/meshes/fixed/","tile_lighttower.min.gltf")),w(a.addContainerTask("tile",s.alley1,"assets/meshes/fixed/","tile_alley1.min.gltf")),w(a.addContainerTask("tile",s.alley2,"assets/meshes/fixed/","tile_alley2.min.gltf")),w(a.addContainerTask("tile",s.trees1,"assets/meshes/fixed/","tile_trees1.min.gltf")),w(a.addContainerTask("tile",s.trees2,"assets/meshes/fixed/","tile_trees2.min.gltf")),w(a.addTextureTask("texture-fountain","assets/textures/flare.png")),new Promise((function(e){a.load(),e(void 0)}))]);case 4:return c=e.sent,r=c.filter((function(e){return e instanceof y.f&&e.name.startsWith("tile")})).map((function(e){return e})).reduce((function(e,t){var i=t.loadedContainer.instantiateModelsToScene((function(e){return e}),!1).rootNodes[0],n=Object.keys(s).includes(t.meshesNames),a=t.loadedAnimationGroups.reduce((function(e,t){return t.stop(),t.targetedAnimations.forEach((function(t){e.push({anim:t.animation,target:t.target.name,fixedSpeed:n})})),e}),[]);return null===i||void 0===i||i.setEnabled(!1),e[t.meshesNames]={mesh:i,animations:a},e}),{}),o=c.filter((function(e){return e instanceof y.r})).map((function(e){return e})).reduce((function(e,t){return e[t.name]=t.texture,e}),{}),e.abrupt("return",Promise.resolve({tileMeshes:r,textures:o}));case 8:case"end":return e.stop()}}),e)})));return function(t,i){return e.apply(this,arguments)}}();!function(e){e[e.selectTile=0]="selectTile",e[e.setTileType=1]="setTileType",e[e.setAvatar=2]="setAvatar",e[e.setPlaygroundType=3]="setPlaygroundType",e[e.setMissingText=4]="setMissingText",e[e.setupTile=5]="setupTile"}(k||(k={}));var T=function(e){Object(v.a)(i,e);var t=Object(g.a)(i);function i(e){var s;return Object(f.a)(this,i),(s=t.call(this))._state=void 0,s._initialState=void 0,s._settings=void 0,s._settings=e,s._initialState={tiles:Array(s._settings.gridSize*s._settings.gridSize).fill(null).map((function(e,t){return{type:n.grass,rotation:A.a.sample([Math.PI,0,Math.PI/2,1.5*Math.PI]),index:t}})),playgroundType:"pool",version:s._settings.version,seed:Math.floor(1e3*Math.random())},s._state=s._initialState,s.load(),s.next(s.state),s}return Object(j.a)(i,[{key:"reset",value:function(){this._state=this._initialState,this.save(),this.next(this.state)}},{key:"load",value:function(){var e=window.localStorage.getItem(i.STORAGE_KEY)||"";try{var t=JSON.parse(e);t.version==this._state.version&&(this._state=Object(m.a)(Object(m.a)({},this._state),t))}catch(n){console.warn("could not load data from storage")}}},{key:"save",value:function(){window.localStorage.setItem(i.STORAGE_KEY,JSON.stringify(this._state))}},{key:"state",get:function(){return A.a.cloneDeep(this._state)}},{key:"trigger",value:function(e,t){e==k.selectTile?this._state.selectedTile=t.id:e==k.setTileType&&void 0!=this._state.selectedTile?(this._state.tiles[this._state.selectedTile].type=t.type,this._state.tiles[this._state.selectedTile].rotation=A.a.sample([0,Math.PI,1.5*Math.PI,2*Math.PI])||0):e==k.setAvatar&&t.avatar?this._state.avatar=t.avatar:e==k.setPlaygroundType&&t.type?this._state.playgroundType=t.type:e==k.setMissingText&&t.text?this._state.missing=t.text:e==k.setupTile&&void 0!=t.id&&t.type&&void 0!=t.rotation?(this._state.tiles[t.id].type=t.type,this._state.tiles[t.id].rotation=t.rotation):console.warn("Statemachine: could not find any action handler"),this.next(this.state),this.save()}}]),i}(x.a);T.STORAGE_KEY="pg-state";i(315);var S=i.p+"static/media/explorer.0729c357.png",C=i.p+"static/media/builder.31b27d0d.png",E=i.p+"static/media/two_kids.d4db4a4d.png",N="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAABCklEQVR4Ae3RwTFEYRCFUWsmCXFQiEQqnZYNYDLC+umFUp3A/LfqzTlVHUB/94J/AAAAAAAAAABc9j3KkIv/3Lf1lRy5+JsR8vGNsDD+y4xuhHx8IwTj738A8cV/3VV88RFffMQXH/HF56rvTXzxT098xBdf/Hfxxd8z8cVH/Ju+p76D+Ovd9n39PXVcO4L4dyP+NkdYHP/jHOPf932PxxaOIP7DjL92BPGv+37GY4tGEH+qvi00wiEQ3wgj/mcgvhEC8Y0Qim+EfHwjzPjHQHwjBOIbIRnfCPn4RgjHN0I+vhHEP5HKx6fy8al8fCofn8rHp/LxqXx8Kh+fysen9hIfAAAAAAAAAH4BXnnYZhHuUdwAAAAASUVORK5CYII=",M="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAQAAABIkb+zAAAAuUlEQVR42u3VSw7BYBhG4W+MNRrbRUWEVbnbV7UMxFhJ3+Y57wbOSf5LFQAAAAD8hqbW2fptt022fr9ttn6/XbZ+v322fr9Vtv69FvTp06dPnz59+vTp06dPnz59+gPp/2Ph+m26fpuuL2ACR2gCl3gCz+gEPjIJ4064SRhBwrXmEiR8n3CRIEHCc2cJI0g41UyCBAndjhIkDJFwyE9YViUnNBVGk63/mRCp/06I1X8lROsDAAAAGDMP5dIlT2gEqj8AAAAASUVORK5CYII=",P=(i(316),i(194)),I=i(14),R=new Map;R.set("explorer",{title:"Entdecker / innen",text:"Entdecker/innen sind neugierig und m\xf6chten gerne herumlaufen und alles erkunden.",img:S}),R.set("builder",{title:"Denker / innen",text:"Denker/innen bauen gerne Dinge. Sie gehen den Sachen auf den Grund.",img:C}),R.set("social",{title:"Freunde",text:"Freunde machen alles gemeinsam.",img:E});var z=function(e){var t,i,n,s=e.onSelect,c=e.seed,r=Object(p.f)(),o=Object(a.useState)(),l=Object(h.a)(o,2),d=l[0],u=l[1],b=Object(P.shuffle)(["explorer","social","builder"],c),m=Object(p.g)().pathname;function f(e){var t="explorer"==e?S:"builder"==e?C:E;return Object(I.jsx)("div",{className:"avatar",onClick:function(){return function(e){u(e)}(e)},children:Object(I.jsx)("div",{className:"icon",children:Object(I.jsx)("img",{src:t})})},e)}return Object(a.useEffect)((function(){window.scrollTo(0,0)}),[m]),Object(I.jsxs)("div",{className:"avatar-view",children:[Object(I.jsx)("h1",{children:"W\xe4hle deinen Avatar"}),Object(I.jsx)("div",{className:"avatar-list",children:b.map((function(e){return f(e)}))}),d&&Object(I.jsxs)("div",{className:"avatar-select-dialog",children:[Object(I.jsx)("div",{className:"overlay"}),Object(I.jsxs)("div",{className:"dialog",children:[Object(I.jsx)("h2",{children:null===(t=R.get(d))||void 0===t?void 0:t.title}),Object(I.jsx)("img",{src:null===(i=R.get(d))||void 0===i?void 0:i.img}),Object(I.jsx)("p",{children:null===(n=R.get(d))||void 0===n?void 0:n.text}),Object(I.jsxs)("div",{className:"button-group",children:[Object(I.jsx)("button",{className:"round",onClick:function(){u(void 0)},children:Object(I.jsx)("img",{src:M})}),Object(I.jsx)("button",{className:"round",onClick:function(){d&&s(d),r.push("/waterbody")},children:Object(I.jsx)("img",{src:N})})]})]})]})]})},D=i(381),B=i(372),L=i(297),U=i.n(L),F=i(378),G=i(373),H=i(196),Q=i(379),W=i(260),Y=(i(369),i(371)),V=i(376),J=i(370),K=i(374),X=i(375),q=i(298),Z=i.n(q),$=i(300),ee=i(301),te=i(299),ie=i(302),ne=i(246),se=function(e,t){var i=new ne.Subject;return e.on(t,(function(e){i.next(e)})),i.pipe(Object(te.share)())},ae=function(e){return e<.5?2*e*e:(4-2*e)*e-1},ce=function(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:i/40,s=arguments.length>4?arguments[4]:void 0,a=i/n;Object($.interval)(a).pipe(Object(ee.scan)((function(e){return e+1/n}),0),Object(ie.takeWhile)((function(e){return e<1}))).subscribe({next:function(i){s(e+(t-e)*ae(i),!1)},complete:function(){s(t,!0)}})};function re(e,t){return Object(O.minBy)(t,(function(t){return Math.abs(e-t)}))||e}function oe(e){for(;e<0;)e+=2*Math.PI;for(;e>2*Math.PI;)e-=2*Math.PI;return e}var le=[1*Math.PI/4,3*Math.PI/4,5*Math.PI/4,7*Math.PI/4];var de=function(){function e(t,i,n){Object(f.a)(this,e),this.scene=void 0,this.canvas=void 0,this._cursor=void 0,this._zoom=void 0,this.aspectRatio=void 0,this._rotation=void 0,this.camera=void 0,this.$disposeObservable=void 0,this._isAnimating=!1,this.enableControl=!0,this.scene=t,this.canvas=i,this._cursor=new y.v(0,0),this._zoom=n,this._rotation=Math.PI/4,this.camera=new y.t("camera",new y.w(0,10,0),t),this.camera.mode=y.c.ORTHOGRAPHIC_CAMERA,this.aspectRatio=this.scene.getEngine().getAspectRatio(this.camera),this.updateCameraFrame(),this.updateCameraPosition(),this.$disposeObservable=new x.a}return Object(j.a)(e,[{key:"dispose",value:function(){this.$disposeObservable.next()}},{key:"attachControl",value:function(){var e=this,t=new Z.a(this.canvas);t.get("pinch").set({enable:!0,threshold:.1});var i=se(t,"pinchstart"),n=se(t,"pinchend"),s=se(t,"pinchmove");t.get("rotate").set({enable:!0});var a=se(t,"rotatestart"),c=se(t,"rotateend"),r=se(t,"rotatemove");i.pipe(Object(J.a)((function(){return Object(Y.a)([s,Object(B.a)(e._zoom)]).pipe(Object(G.a)(n))})),Object(G.a)(this.$disposeObservable)).pipe(Object(K.a)((function(){return e.enableControl}))).subscribe((function(t){var i=Object(h.a)(t,2),n=i[0],s=i[1];e.zoom=s/n.scale})),a.pipe(Object(J.a)((function(t){return Object(Y.a)([r,Object(B.a)(t),Object(B.a)(e.rotation)]).pipe(Object(X.a)((function(e){var t=Object(h.a)(e,2),i=t[0],n=t[1];return Math.abs(n.rotation-i.rotation)<5})),Object(G.a)(c))})),Object(G.a)(this.$disposeObservable)).pipe(Object(K.a)((function(){return e.enableControl}))).subscribe((function(t){var i=Object(h.a)(t,3),n=i[0],s=i[1],a=i[2],c=s.rotation-n.rotation;e.rotation=a-c/180*Math.PI}));var o=Object(V.a)(this.canvas,"pointerdown").pipe(Object(K.a)((function(e){return e.isPrimary}))),l=Object(V.a)(this.canvas,"pointerup").pipe(Object(K.a)((function(e){return e.isPrimary}))),d=Object(V.a)(this.canvas,"pointermove").pipe(Object(K.a)((function(e){return e.isPrimary}))),u=Object(V.a)(this.canvas,"pointerdown").pipe(Object(K.a)((function(e){return!e.isPrimary})));o.pipe(Object(J.a)((function(t){return Object(Y.a)([d,Object(B.a)(t),Object(B.a)(e._cursor.clone())]).pipe(Object(G.a)(Object(D.a)(l,u)))})),Object(G.a)(this.$disposeObservable)).pipe(Object(K.a)((function(){return e.enableControl}))).subscribe((function(t){var i,n,s=Object(h.a)(t,3),a=s[0],c=s[1],r=s[2],o=c.screenX-a.screenX,l=c.screenY-a.screenY,d=e.getRotationMatrix(),u=[(n=[l,o])[0]*(i=d)[0]+n[1]*i[1],n[0]*i[2]+n[1]*i[3]],b=420/e.zoom;e.setCameraCenter(r.x+u[0]/b,r.y+u[1]/b)})),Object(V.a)(window,"wheel").pipe(Object(K.a)((function(){return e.enableControl}))).subscribe((function(t){e.zoom-=.5*Math.sign(t.deltaY)}))}},{key:"onResize",value:function(){this.aspectRatio=this.scene.getEngine().getAspectRatio(this.camera),this.updateCameraFrame()}},{key:"updateCameraFrame",value:function(){this.camera.orthoTop=this._zoom,this.camera.orthoBottom=-this._zoom,this.camera.orthoRight=this._zoom*this.aspectRatio,this.camera.orthoLeft=-this._zoom*this.aspectRatio}},{key:"updateCameraPosition",value:function(){this.camera.position.x=this._cursor.x+10*Math.cos(this._rotation),this.camera.position.z=this._cursor.y+10*Math.sin(this._rotation),this.camera.setTarget(new y.w(this._cursor.x,0,this._cursor.y))}},{key:"setCameraCenter",value:function(e,t){e=Math.max(-4,Math.min(4,e)),t=Math.max(-4,Math.min(4,t)),this._cursor.x=e,this._cursor.y=t,this.updateCameraPosition()}},{key:"getRotationMatrix",value:function(){return[Math.cos(this._rotation),-Math.sin(this._rotation),Math.sin(this._rotation),Math.cos(this._rotation)]}},{key:"rotation",get:function(){return this._rotation},set:function(e){this._rotation=oe(e),this.updateCameraPosition()}},{key:"rotateLeft",value:function(){var e=this;if(!this._isAnimating){var t=re(oe(this._rotation-Math.PI/2),le);t=this._rotation-Math.PI/2<0?t-2*Math.PI:t,ce(this._rotation,t,800,void 0,(function(t,i){e.rotation=t,e._isAnimating=!i}))}}},{key:"rotateRight",value:function(){var e=this;if(!this._isAnimating){var t=re(oe(this._rotation+Math.PI/2),le);t=this._rotation+Math.PI/2>2*Math.PI?2*Math.PI+t:t,ce(this._rotation,t,800,void 0,(function(t,i){e.rotation=t,e._isAnimating=!i}))}}},{key:"zoom",get:function(){return this._zoom},set:function(e){this._zoom=Math.max(1,Math.min(10,e)),this.updateCameraFrame()}}]),e}(),ue=i(265);function he(e,t){t[e]=Object(m.a)(Object(m.a)({},t[e]),{},{fixedTile:Math.random()>.5?s.trees1:s.trees2,rotation:A.a.sample([0,Math.PI/2,Math.PI,3*Math.PI/2])})}function be(e,t){t[e]=Object(m.a)(Object(m.a)({},t[e]),{},{fixedTile:s.lighttower,rotation:Math.PI})}function pe(e,t){t[e]=Object(m.a)(Object(m.a)({},t[e]),{},{fixedTile:A.a.sample([s.alley1,s.alley2])||null,rotation:Math.random()>.5?0:Math.PI})}var me,fe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t=0==t?e:t;var i,n=[],s=Object(ue.a)(A.a.range(e));try{for(s.s();!(i=s.n()).done;){var a,c=i.value,r=Object(ue.a)(A.a.range(t));try{for(r.s();!(a=r.n()).done;){var o=a.value;n.push({position:[c/(e-1),o/(t-1)],fixedTile:null})}}catch(h){r.e(h)}finally{r.f()}}}catch(h){s.e(h)}finally{s.f()}he(7+6*t,n),he(7+5*t,n),he(7+4*t,n),he(7+3*t,n),he(7+2*t,n),he(7+1*t,n),be(7+7*e,n),be(7+0*e,n);var l,d=Object(ue.a)(A.a.range(e));try{for(d.s();!(l=d.n()).done;){var u=l.value;pe(0+u*e,n)}}catch(h){d.e(h)}finally{d.f()}return{cells:n,size:[e,t]}},je=i(9),ve=i(308),ge=i(91),Oe=i(303),Ae=i(304),xe=(i(307),i(247),i(248)),ye=i(13),we=i(305),ke=i.n(we),_e=i(377),Te=i(130),Se=i(25),Ce=i(50),Ee=i(58),Ne=function(){function e(t,i,n){Object(f.a)(this,e),this.particleSystem=void 0;var s=y.j.IsSupported;if(s){var a=new y.j("particles",{capacity:500},n);a.activeParticleCount=1e3,a.start(),this.particleSystem=a}else{var c=new Ee.a("fountain",300,n);c.start(),this.particleSystem=c}this.particleSystem.particleTexture=i,this.particleSystem.emitter=t,this.particleSystem.createPointEmitter(new y.w(-1,10,-1),new y.w(1,10,1)),this.particleSystem.color1=new y.e(.7,.8,1,1),this.particleSystem.color2=new y.e(.2,.5,1,1),this.particleSystem.colorDead=new y.e(1,1,1,0),this.particleSystem.minSize=.01,this.particleSystem.maxSize=s?.1:.2,this.particleSystem.minLifeTime=.6,this.particleSystem.maxLifeTime=.9,this.particleSystem.emitRate=s?300:100,this.particleSystem.gravity=new y.w(0,-9.81,0),this.particleSystem.minAngularSpeed=0,this.particleSystem.maxAngularSpeed=.2*Math.PI,this.particleSystem.minEmitPower=.2,this.particleSystem.maxEmitPower=.5,this.particleSystem.updateSpeed=.005}return Object(j.a)(e,[{key:"dispose",value:function(){(this.particleSystem instanceof Ee.a||this.particleSystem instanceof y.j)&&this.particleSystem.dispose()}}]),e}(),Me=function(){function e(t,i){Object(f.a)(this,e),this.light=void 0,this.light=new y.n("pointLight",t,i),this.light.intensity=5,this.light.range=30,this.light.diffuse=new y.d(0,1,1)}return Object(j.a)(e,[{key:"dispose",value:function(){this.light.dispose()}}]),e}(),Pe=function(){function e(t,i,n,s,a){Object(f.a)(this,e),this.node=void 0,this.name=void 0,this._position=void 0,this._type=void 0,this._meshes=void 0,this._textures=void 0,this._scene=void 0,this._effects=[],this._animation=void 0,this._enterAnimation=void 0,this._isEntering=!1,this.name=t,this._meshes=i,this._textures=n,this._scene=s,this._enterAnimation=a,this._position=new Se.j(0,0,0),this.node=new Ce.a(t,s,!0)}return Object(j.a)(e,[{key:"dispose",value:function(){var e,t;null===(e=this.node)||void 0===e||e.dispose(),this._effects.forEach((function(e){return e.dispose()})),this._effects=[],null===(t=this._animation)||void 0===t||t.dispose()}},{key:"type",get:function(){return this._type||s.empty},set:function(e){var t,i,n,a,c=this;if(this._type!=e){this._type=e,this.dispose(),e==s.pool?(this._effects.push(new Ne(this.node.getAbsolutePosition().add(new Se.j(.01,1.1,.01)),this._textures["texture-fountain"],this._scene)),this._effects.push(new Me(this.node.getAbsolutePosition().add(new Se.j(0,2,0)),this._scene))):e==s.river&&(this._effects.push(new Me(this.node.getAbsolutePosition().add(new Se.j(-1,2.5,-.5)),this._scene)),this._effects.push(new Me(this.node.getAbsolutePosition().add(new Se.j(1,3,-1)),this._scene)),this._effects.push(new Me(this.node.getAbsolutePosition().add(new Se.j(-2,1.5,-1)),this._scene)));var r=null===(t=this._meshes[e])||void 0===t||null===(i=t.mesh)||void 0===i?void 0:i.instantiateHierarchy(void 0,void 0,(function(e,t){t.name=e.name}));null===(n=this._meshes[e])||void 0===n||null===(a=n.animations)||void 0===a||a.forEach((function(e){var t=e.anim,i=e.target,n=e.fixedSpeed;c._animation=new Te.a(c.name,c._scene);var s=r.getChildren(void 0,!1).find((function(e){return e.name==i}));if(s){c._animation.addTargetedAnimation(t,s);var a=n?void 0:.5*Math.random()+.5;c._animation.start(!0,a)}})),r&&(r.doNotSyncBoundingInfo=!0),r&&this._enterAnimation&&(this._isEntering=!0,this._scene.beginDirectAnimation(this.node,[this._enterAnimation],0,8,!1,1,(function(){c._isEntering=!1}))),this.node=r||new Ce.a(this.name,this._scene),this.node.position=this._position,this.node.setEnabled(!0)}}},{key:"isEntering",get:function(){return this._isEntering}},{key:"rotation",get:function(){return this.node.rotation.y},set:function(e){this.node.rotate(new Se.j(0,1,0),e)}},{key:"position",get:function(){return this._position},set:function(e){this._position=e,this.node&&(this.node.position=this._position)}},{key:"selectable",get:function(){return Object.keys(n).includes(this._type)}},{key:"show",value:function(){this.node.setEnabled(!0)}},{key:"hide",value:function(){this.node.setEnabled(!1)}}]),e}(),Ie=function(){function e(t){Object(f.a)(this,e),this._selectLayer=void 0,this._selectMarker=void 0,this._selectLayer=t,this._selectMarker=y.m.CreateBox("marker-mesh",{width:1.1,height:.01,depth:1.1},this._selectLayer.utilityLayerScene);var i=new y.q("tileMaterial",this._selectLayer.utilityLayerScene);i.diffuseColor=new y.d(.5,.5,.5),i.specularColor=new y.d(.5,.5,.5),i.alpha=.99,i.alphaMode=ye.a.ALPHA_MAXIMIZED,this._selectMarker.material=i,this._selectLayer.shouldRender=!0,this._selectMarker.setEnabled(!1),this._selectMarker.isPickable=!1,this._selectMarker.translate(new y.w(0,1,0),.73),this._selectMarker.bakeCurrentTransformIntoVertices()}return Object(j.a)(e,[{key:"enable",set:function(e){this._selectMarker.setEnabled(e)}},{key:"position",set:function(e){this._selectMarker.position=e}}]),e}(),Re=function(e){Object(v.a)(i,e);var t=Object(g.a)(i);function i(e,n){var s;return Object(f.a)(this,i),(s=t.call(this)).tiles=void 0,s.scene=void 0,s.grid=void 0,s._selectLayer=void 0,s._cursor=void 0,s._assets=void 0,s.$pointerDownObservable=void 0,s.$pointerUpObservable=void 0,s.$disposeObservable=void 0,s.grid=n,s.scene=e,s.tiles=[],s._assets={meshes:{},textures:{}},s.$pointerDownObservable=new x.a,s.$pointerUpObservable=new x.a,s.$disposeObservable=new x.a,s._selectLayer=new y.u(e,!1),new y.k("light1",new y.w(0,0,1),s._selectLayer.utilityLayerScene),s._cursor=new Ie(s._selectLayer),s.setupPointerObservables(),s}return Object(j.a)(i,[{key:"dispose",value:function(){this.$disposeObservable.next()}},{key:"meshes",set:function(e){this._assets.meshes=e}},{key:"textures",set:function(e){this._assets.textures=e}},{key:"setupPointerObservables",value:function(){var e=this;this.scene.onPointerObservable.add((function(t){t.type==y.o.POINTERDOWN?e.$pointerDownObservable.next(t):t.type==y.o.POINTERUP&&e.$pointerUpObservable.next(t)}));var t=this.$pointerDownObservable.pipe(Object(H.a)((function(t){return{pick:e._selectLayer.utilityLayerScene.pick(t.event.offsetX,t.event.offsetY),event:t.event,time:Date.now()}})));this.$pointerUpObservable.pipe(Object(H.a)((function(t){return{pick:e._selectLayer.utilityLayerScene.pick(t.event.offsetX,t.event.offsetY),event:t.event,time:Date.now()}}))).pipe(Object(_e.a)(t),Object(G.a)(this.$disposeObservable)).subscribe((function(t){var i,n,s,a,c,r,o,l=Object(h.a)(t,2),d=l[0],u=l[1],b=Math.abs(d.event.screenX-u.event.screenX)+Math.abs(d.event.screenY-u.event.screenY);(null===(i=d.pick)||void 0===i?void 0:i.hit)&&(null===(n=d.pick)||void 0===n||null===(s=n.pickedMesh)||void 0===s?void 0:s.name)==(null===(a=u.pick)||void 0===a||null===(c=a.pickedMesh)||void 0===c?void 0:c.name)&&b<10&&e.emit("tile-selected",null===(r=d.pick.pickedMesh)||void 0===r||null===(o=r.metadata)||void 0===o?void 0:o.tileIndex)}))}},{key:"setup",value:function(e,t){var i=this,s=new y.a("enter-animation","position.y",10,y.a.ANIMATIONTYPE_FLOAT,y.a.ANIMATIONLOOPMODE_CONSTANT);s.setKeys(A.a.range(8).map((function(e){return{frame:e,value:ae(e/8)-1}}))),this.tiles=this.grid.cells.map((function(a,c){var r=a.position,o=a.fixedTile,l=a.rotation,d=new Pe("tile".concat(c),i._assets.meshes,i._assets.textures,i.scene,s);return d.position=new y.w(r[0]*e-e/2,0,r[1]*t-t/2),d.type=o||n.grass,d.rotation=l||0,d.show(),i.emit("tile-setup",{id:c,type:d.type,rotation:d.rotation}),d})),this.grid.cells.forEach((function(n,s){var a=n.position,c=n.fixedTile;if(!c){var r=y.m.CreateBox("select_tile_".concat(s),{width:1,height:.01,depth:1},i._selectLayer.utilityLayerScene);r.metadata={tileIndex:s,selectable:null==c},r.position=new y.w(a[0]*e-e/2,.8,a[1]*t-t/2),r.visibility=0,r.isPickable=!0}}))}},{key:"handleTileChange",value:function(e,t){var i=this;(t?A.a.differenceWith(t,e,A.a.isEqual):e).forEach((function(e){var t=i.tiles[e.index];t&&t.selectable&&(t.type=e.type,t.rotation=e.rotation)}))}},{key:"setSelectMarker",value:function(e){void 0!=e?(this._cursor.position=this.tiles[e].position,this._cursor.enable=!0):this._cursor.enable=!1}}]),i}(ke.a),ze=function(){function e(t){var i=this,n=t.canvas,s=t.settings,a=t.stateMachine;Object(f.a)(this,e),this.canvas=void 0,this.engine=void 0,this.scene=void 0,this.settings=void 0,this.camera=void 0,this.textures=void 0,this.stateMachine=void 0,this.enablePointerEvents=void 0,this.enable=void 0,this.$disposeObservable=void 0,this.canvas=n,this.engine=new y.i(n,!0,{preserveDrawingBuffer:!0,stencil:!0}),this.scene=new y.p(this.engine,{}),this.stateMachine=a,this.settings=s,this.enablePointerEvents=!0,this.enable=!1,this.$disposeObservable=new x.a,this.textures=[],this.camera=new de(this.scene,this.canvas,this.settings.camera.zoom),this.scene.onPrePointerObservable.add((function(e){e.skipOnPointerObservable=!i.enablePointerEvents}))}return Object(j.a)(e,[{key:"dispose",value:function(){this.$disposeObservable.next(),this.scene.dispose(),this.engine.dispose()}},{key:"init",value:function(e,t){var i=this,n="pool"==e?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=fe(e,t),n=Math.floor(e/2)-2,a=Math.floor(t||e/2)-2;return i.cells[(n+0)*e+a+0].fixedTile=s.empty,i.cells[(n+0)*e+a+1].fixedTile=s.empty,i.cells[(n+0)*e+a+2].fixedTile=s.empty,i.cells[(n+1)*e+a+0].fixedTile=s.empty,i.cells[(n+1)*e+a+1].fixedTile=s.pool,i.cells[(n+1)*e+a+2].fixedTile=s.empty,i.cells[(n+2)*e+a+0].fixedTile=s.empty,i.cells[(n+2)*e+a+1].fixedTile=s.empty,i.cells[(n+2)*e+a+2].fixedTile=s.empty,i}(this.settings.gridSize):function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=fe(e,t),n=Math.floor(e/2)-1,a=Math.floor(t||e/2)-1;return i.cells[(n-2)*e+a+1].fixedTile=s.empty,i.cells[(n-2)*e+a+0].fixedTile=s.empty,i.cells[(n-1)*e+a+1].fixedTile=s.empty,i.cells[(n-1)*e+a+0].fixedTile=s.empty,i.cells[(n+0)*e+a+0].fixedTile=s.empty,i.cells[(n+0)*e+a+1].fixedTile=s.empty,i.cells[(n+1)*e+a+1].fixedTile=s.river,i.cells[(n+1)*e+a+1].rotation=0,i.cells[(n+1)*e+a+0].fixedTile=s.empty,i.cells[(n+2)*e+a+0].fixedTile=s.empty,i.cells[(n+3)*e+a+0].fixedTile=s.empty,i}(this.settings.gridSize),a=new Re(this.scene,n);a.on("tile-selected",(function(e){return i.stateMachine.trigger(k.selectTile,{id:e})})),a.on("tile-setup",(function(e){i.stateMachine.trigger(k.setupTile,e)})),this.stateMachine.pipe(Object(F.a)(),Object(G.a)(this.$disposeObservable)).subscribe((function(e){var t=Object(h.a)(e,2),i=t[0],n=t[1];a.handleTileChange(i.tiles,n.tiles)})),this.stateMachine.pipe(Object(H.a)((function(e){return e.selectedTile})),Object(Q.a)(),Object(G.a)(this.$disposeObservable)).subscribe((function(e){a.setSelectMarker(e)})),Object(W.a)(_(this.scene,e)).pipe(Object(G.a)(this.$disposeObservable)).subscribe((function(e){var n,s=e.tileMeshes,c=e.textures;a.meshes=s,a.textures=c,a.setup(i.settings.width,i.settings.height),a.handleTileChange(i.stateMachine.state.tiles),(n=i.scene).autoClear=!0,n.autoClearDepthAndStencil=!1,n.freeActiveMeshes(),n.blockMaterialDirtyMechanism=!0,i.camera.attachControl(),t()})),function(e){var t=new y.k("light",new y.w(0,-1,0),e);t.intensity=2,t.groundColor=new y.d(148/255,41/255,60/255);var i=new y.g("dir",new y.w(0,-1,0),e);i.position=new y.w(5,5,0),i.setDirectionToTarget(new y.w(0,0,0)),i.intensity=8,i.diffuse=new y.d(1,1,.6)}(this.scene),function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=y.m.CreateGround("ground",{width:e,height:e}),s=new y.q("ground",t),a=new je.a("assets/textures/ground.jpg",t);a.uScale=a.vScale=30,s.diffuseTexture=a,s.specularColor=new y.d(0,0,0),n.material=s,n.position.y=i,t.addMesh(n);var c=y.m.CreateGround("ground",{width:e,height:e}),r=new xe.a("default",t);r.majorUnitFrequency=1,r.minorUnitVisibility=0,r.gridRatio=1.02,r.backFaceCulling=!1,r.mainColor=new y.d(0,0,0),r.lineColor=new y.d(1,1,1),r.opacity=.1,c.material=r,c.position.y=i,t.addMesh(c)}(45,this.scene);var c=function(){var e=ve.a.CreateFullscreenUI("UI"),t=new Oe.a;t.verticalAlignment=ge.a.VERTICAL_ALIGNMENT_TOP,t.isVertical=!0,e.addControl(t);var i=new Ae.a;return i.text="<fps>",i.color="white",i.fontSize=16,i.height="30px",t.addControl(i),i}(),r=Date.now();this.scene.onBeforeRenderObservable.add((function(){d(Date.now()-r)}));var o=new U.a,l=0,d=function(e){e-l>200&&(c.text="fps: "+Math.floor(i.engine.getFps()),l=e),a.tiles.forEach((function(t,i){t.isEntering||(t.position.y=.05*o.noise2D(i,1e-4*e))}))};this.engine.runRenderLoop((function(){i.enable&&i.scene.render()})),this.scene.onDisposeObservable.add((function(){a.dispose()}))}},{key:"takeScreenshot",value:function(){if(this.camera){this.scene.render();var e={height:2*this.canvas.height,width:2*this.canvas.width};y.s.CreateScreenshotUsingRenderTarget(this.engine,this.camera.camera,e)}}},{key:"resize",value:function(){this.camera.onResize(),this.engine.resize()}},{key:"enableMouse",value:function(e){this.enablePointerEvents=e,this.camera.enableControl=e}}]),e}(),De=(i(351),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgBAMAAAAQtmoLAAAAFVBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAASAQCkAAAAB3RSTlMAELo0yv/uOyK2GwAAANtJREFUeAFiGL5gFIyCUSBkgE2UWRGXekbXZGzCZiECODSIhIYZYLEgNdQRwNgcWAAQBEEQjOYTeib/VB5Q7zgasKZt3YANAdgOAjDEH9iFeLY/Adhe9zkhAN6EzZc7UQFrBMwRsFdAEAFFBSQR0FRAFAFVBWQRQFQAAYgEIBIRQAAiASgEIBOATnTga7e+DQCAQRgI7r81M1yJQu1skN4n4JH80vas8HFeGl58Xt7eQN6ibAJqM2hkYJVgxmD3ECgcWR6KHLsc7IwODCeMPwxYinAMiYyhsZqm6QCQI8VdIPm9HQAAAABJRU5ErkJggg=="),Be=i.p+"static/media/icon_tile_trampolin.7746134a.png",Le=i.p+"static/media/icon_tile_boulders.9beaba10.png",Ue=i.p+"static/media/icon_tile_house.979ad51e.png",Fe=i.p+"static/media/icon_tile_caroussel.eb6967e7.png",Ge=i.p+"static/media/icon_tile_sandbox.4500cd63.png",He=i.p+"static/media/icon_tile_seasaw.2b302adb.png",Qe=i.p+"static/media/icon_tile_swings.a53ff613.png",We=i.p+"static/media/icon_tile_slide.773597b9.png",Ye=i.p+"static/media/icon_tile_tree.3eb7e8b6.png",Ve=i.p+"static/media/icon_tile_playhut.2ebb8dae.png",Je=i.p+"static/media/icon_tile_empty.5c4600c8.png",Ke=i.p+"static/media/icon_tile_junglegym.89db69ee.png",Xe=i.p+"static/media/icon_tile_springs.47cf136a.png",qe=[{type:n.trampolin,icon:Be},{type:n.boulders,icon:Le},{type:n.house,icon:Ue},{type:n.carousel,icon:Fe},{type:n.sandbox,icon:Ge},{type:n.seasaw,icon:He},{type:n.swings,icon:Qe},{type:n.slide,icon:We},{type:n.tree,icon:Ye},{type:n.playhut,icon:Ve},{type:n.junglegym,icon:Ke},{type:n.springs,icon:Xe}],Ze=function(e){var t=e.tileState,i=e.onSelect,s=e.numberOfSelectedTiles,c=e.maximumSelectedTies,r=e.seed,o=Object(a.useState)(null===t||void 0===t?void 0:t.type),l=Object(h.a)(o,2),d=l[0],u=l[1],b=Object(a.useState)(Object(P.shuffle)(qe,r)),p=Object(h.a)(b,1)[0];function m(e){e&&u(e),i(e)}var f=s<c||d!=n.grass;function j(e,t,i){return Object(I.jsxs)("li",{onClick:function(){return m(t)},children:[Object(I.jsx)("img",{src:e}),i&&Object(I.jsx)("div",{className:"selected"})]},t)}return Object(I.jsxs)("div",{className:"TileMenu",children:[Object(I.jsx)("div",{className:"overlay",onClick:function(){return m(void 0)}}),Object(I.jsxs)("div",{className:"dialog",children:[Object(I.jsxs)("div",{className:"dialog-header",children:[Object(I.jsx)("div",{className:"close-button",onClick:function(){return m(void 0)},children:Object(I.jsx)("img",{src:De})},"close"),Object(I.jsxs)("p",{className:"number-selected",children:["Elemente ausgew\xe4hlt: ",s," von ",c]})]}),Object(I.jsx)("div",{className:"dialog-content",children:f?Object(I.jsxs)("ul",{children:[j(Je,n.grass,n.grass==d),p.map((function(e){return j(e.icon,e.type,e.type==d)}))]}):Object(I.jsxs)("p",{children:["Du hast schon ",c," Elemente ausgew\xe4hlt. Klicke ein bereits plaziertes Element an um es zu \xe4ndern oder zu l\xf6schen.",Object(I.jsx)("span",{className:"image",children:Object(I.jsx)("img",{src:Je})})]})})]})]})},$e=i(306),et=(i(352),function(e){var t=e.loaded,i=(e.avatar,e.onStartClicked);return Object(I.jsx)("div",{className:"loading-view",children:Object(I.jsxs)("div",{className:"content",children:[Object(I.jsx)("h1",{children:"Was soll auf deinem Spielplatz sein?"}),Object(I.jsxs)("div",{className:"loading",children:[!t&&Object(I.jsxs)("div",{children:[Object(I.jsx)("div",{className:"spinner"}),Object(I.jsx)("p",{className:"center",children:"Lade Spielplatz ..."})]}),t&&Object(I.jsx)("div",{className:"start-button",children:Object(I.jsx)("button",{className:"glow",onClick:function(){return i()},children:"Start"})})]})]})})}),tt=(i(353),i(354),i.p+"static/media/icon_tile_grass.8f0318db.png"),it=i.p+"static/media/fertig.cc7557ea.png",nt=[{text:"Hey, ich habe hier ein paar Tips f\xfcr dich, wie du deinen Spielpatz baust. Klicke einfach auf Weiter."},{text:"Suche dir 6 Dinge aus, die du gerne auf einem Spielplatz haben willst. Klicke auf ein leeres Feld um dort etwas zu bauen.",img:tt},{text:"Wenn du auf ein bebautes Feld klickst, kannst du es entfernen oder zu etwas Anderem \xe4ndern. Baum-, Allee- und Wasserfelder lassen sich nicht ver\xe4ndern.",img:Je},{text:"Du kannst die Ansicht drehen und n\xe4her heranzoomen. Wenn du zufrieden bist, dr\xfccke oben rechts auf Fertig.",img:it}],st=function(e){var t=e.onClose,i=e.avatar,n=e.startHint,s=void 0===n?0:n,c=Object(a.useState)(0),r=Object(h.a)(c,2),o=r[0],l=r[1];return Object(a.useEffect)((function(){l(s)}),[s]),Object(I.jsxs)("div",{className:"hint-view",children:[t&&Object(I.jsx)("div",{className:"close-button",onClick:t,children:Object(I.jsx)("img",{src:De})},"close"),nt[o].text,nt[o].img&&Object(I.jsx)("span",{className:"image",children:Object(I.jsx)("img",{src:nt[o].img})}),Object(I.jsxs)("div",{className:"buttons",children:[Object(I.jsx)("button",{disabled:o<1,onClick:function(){l(o-1)},children:"Zur\xfcck"}),Object(I.jsx)("button",{disabled:o>nt.length-2,onClick:function(){l(o+1)},children:"Weiter"})]}),Object(I.jsx)("div",{className:"floating-image",children:Object(I.jsx)("img",{src:i})})]})};!function(e){e[e.LOADING=0]="LOADING",e[e.LOADED=1]="LOADED",e[e.STARTED=2]="STARTED"}(me||(me={}));var at=function(e){var t=e.stateMachine,i=e.settings,s=Object(a.useRef)(null),c=Object(a.useState)(),r=Object(h.a)(c,2),o=r[0],l=r[1],d=Object(a.useState)(me.LOADING),u=Object(h.a)(d,2),b=u[0],m=u[1],f=Object(a.useState)(!1),j=Object(h.a)(f,2),v=j[0],g=j[1],O=Object(a.useState)(!0),A=Object(h.a)(O,2),x=A[0],y=A[1],w=Object(a.useState)(t.state.seed),_=Object(h.a)(w,1)[0],T=Object(a.useState)(),M=Object(h.a)(T,2),P=M[0],R=M[1],z=Object(a.useState)(0),L=Object(h.a)(z,2),U=L[0],F=L[1],G=Object(a.useState)(function(e){switch(e){case"explorer":return S;case"builder":return C;case"social":return E}}(t.state.avatar)),H=Object(h.a)(G,1)[0],Q=Object(p.f)();return Object(a.useEffect)((function(){if(s&&null!=s.current){s.current.oncontextmenu=function(e){e.preventDefault(),e.stopPropagation()};var e=new ze({canvas:s.current,settings:i,stateMachine:t});return e.init(t.state.playgroundType,(function(){return m(me.LOADED)})),l(e),function(){e.dispose(),l(void 0)}}}),[s]),Object(a.useEffect)((function(){function e(){null===o||void 0===o||o.resize()}return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[o]),Object(a.useEffect)((function(){var e=Object(D.a)(Object(B.a)(t.state),t).pipe(Object($e.delay)(150)).subscribe((function(e){R(void 0),e.selectedTile&&(y(!1),R(e.selectedTile)),F(function(e){return e.tiles.filter((function(e){return e.type!=n.grass&&Object.keys(n).includes(e.type)})).length}(e))}));return function(){return e.unsubscribe()}}),[]),Object(a.useEffect)((function(){o&&(o.enablePointerEvents=!v),v&&(null===t||void 0===t||t.trigger(k.selectTile,{id:void 0}))}),[v,o]),Object(a.useEffect)((function(){o&&b==me.STARTED&&(o.enable=!0)}),[b]),Object(I.jsxs)("div",{className:"playground-view",children:[Object(I.jsx)("canvas",{ref:s,id:"renderCanvas","touch-action":"none",onSelectCapture:function(e){return e.preventDefault()}}),b!=me.STARTED?Object(I.jsx)(et,{avatar:H,loaded:b!=me.LOADING,onStartClicked:function(){return m(me.STARTED)}}):Object(I.jsxs)("div",{children:[Object(I.jsxs)("div",{className:"top-buttons",children:[!v&&Object(I.jsx)("button",{onClick:function(){return y(!0)},children:"Hilfe"}),!v&&Object(I.jsx)("button",{onClick:function(){return g(!0)},children:"Fertig"})]}),Object(I.jsx)("div",{className:"bottom-buttons",children:v?Object(I.jsxs)("div",{className:"space-between",children:[Object(I.jsx)("button",{onClick:function(){return g(!1)},children:"Ich bin noch nicht fertig"}),Object(I.jsxs)("button",{onClick:function(){Q.push("/missing-tile")},className:"right glow",children:["Weiter",Object(I.jsx)("img",{className:"right",src:N})]})]}):Object(I.jsxs)("div",{className:"center-menu",children:[Object(I.jsx)("button",{className:"button-zoom",onClick:function(){null===o||void 0===o||o.camera.rotateLeft()},children:Object(I.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAQAAABIkb+zAAADoklEQVR42u1aXUgVQRT+rr/4c73aD9hDVNRbEIQFPZT2kkRE1Ev0kL1EEEQalBL9EFiSGFL4kAWFRFBaVBZRPfRzzfzpFvkYBUYRZWWloFBhOj2st64ze+/Oemfu7qH55m05e+b7dndmzzlzAAMDg1TgCHX6jDp9Rp0+o06fUafPqNNn1Okz6vQZdfqMOn1GnT6jTp/hIvZhPYqo0o+OCURQhyVU6f8bfahELl361hjEIRTQpW+NAWyjTN8aHZjnLf1c9CUlgGEIm72VMAPPk5TAUIeAlxIK0etA8DDC+JnQohVZXkoowJOE9KyPrRznEsi4gQwvJeSjw0GAhTlowHAcqzakebuc70sIsN5Xcxy74zoJLkWhg0UO7kkHc+vw0TbY2KLvE+lHBCEHq2zclo5GZ+KujeUIFugRYL30XkcJWWiXDqftbcM6ttRyTEy673GMYDJwVTofyMQ1Gwk7VdNPx6sY990IOtpflk5oMnBHEPDZcQaXqOAm6JKQcEE6I5tls5yP6Xv+DAzjKHG8Kw3npVPKNRjnZhhW+Q4qhOfTJHVfAGekc+JGYY4qdQI6OddfpBORAJokBeTjEzfLa1X05/7df6LjgKv7GyWrEpXCO1imRsBeIXoPufRQLyUgD0PcTA1qBDzl3J6dho9aKatT3Ewv1QQQ/P6wWlustUKIi2Yn73SlsID1BbwBfOBm25S8092cy5taA/JWbrba5F22cC73axXA70SXQAzlnIAINQGLOAHvqAko4gR8oyYgixPwywgwn9B/tog1bKPkf2S8y3ZqocQqoV5ALJgLCuF0Ka1wGnjGuT2tTYCWhAao5tx+V1100p1SzheS+uqU7EDKknoIx0cDyFNOX2NZBdguPJsTygXU6yxsZeIN53wMi5XSL8GYztIisINz/1Bpp0NIqL0qLu4CmXgb4/yRUvrpuKW/vA5siDk/UbmEA1Nq2NoOOABM1vsfK6Wfbks/rOfUvhDv0amUfsj2QFDbIR+wHPm2wtZO01t/ao9Z4z3FCBiuoNhliHgSv1N/0G1HP/qXHkWjpIggavDVH60GBeiZMv0PtGEjshMs2TI0Y8QvzR5BdNvSGMUDHBWsa3Adg35qtwmiy7G9Jha+a3gqi/sduxfgUctZsW2fg3sBnjb9bRWieHcCfNB2mYM9tn0/zgJ81PiajV144UqAD1uPgYU4GCPDXoCvm7+jP7dSVKFFuE6i/d7AwMDAwMDAwMDAgBL+AGKfDnNn9UmhAAAAAElFTkSuQmCC"})}),Object(I.jsx)("div",{className:"avatar-icon",children:Object(I.jsx)("img",{src:H})}),Object(I.jsx)("button",{className:"button-zoom",onClick:function(){null===o||void 0===o||o.camera.rotateRight()},children:Object(I.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAQAAABIkb+zAAADuElEQVR42u2aW2iPYRzHPzuK7b+DQ0hCuUU5lAuHK5JJIXIhJU1utt2MJBK2zLIscriwNMwmxyQUQk7byO6IIoe2OW/swrTxuKDF857fPa/3/+T57m69/9/v+3n/7/P+f7/f84CRkVE02qI7gNAdQeiOIHRHELojCN0RhO4IQncEoTuC0B1B6I4gdEXIp4BSjjgAJDXCBMpo4oej9SRGGEgRDz2NJylCgo28C2A+yRBW0BrYfNIgjOZ6SPNJgbCET/2yL2hhUHz2t/XTvOABg+Myn8ExV2vvOcN6D/uN5MVlP41Tjra6OMBs0lx+iX/93SYnLvup1DmY+sB6Ep6lhEBwk+z4nv3ttpZ62f2XeTeAq3Eu3aW2hcIzpvku5i4z0CNHtm00JRrDZxtLF8j1XY1eYICn/du8jmaBp3DNxlLN7yXrB+AcmT7sCwS1UQAU2tpP8d0PnCTdp32BYKFq+9m0Wyydd7z7VoB612tl+4IXZKgF2Gqx/8Th2bcDqA1oXyAoVHv/O6TwPUzx3VLWkOqZYTK9UobnKr+DIsv9r/DdEx90WSd/qtqSY7U6gCdS6Dc+fkt/XbnHp327Vdaoyv4Uy70p9jmVqAqURy4AfzBWDcBOKXAHWb4AKgLmSfBRyrRODcAjKWy1z44huPZLme6rsD/MUv9Mj6zWmiVl+m4pEUNokRS01feyDFOsv5WyzVTfPDZEWu+eC/G68NBx9SFdtEHKdrj/IZukkHPRTC8lgPG6Acjv5nzdAL5JAJkGwDxC/9kibtb9Nar9D5n2pcS/LebeqC/mtC+n4XGohiaM9kXR0EBlqJYyzPAmopZyaqimPrhKo2rq4WmIsUpQZdEW1VgFSizfQZVygF1RDrYSdFreD3OU2p9ET5SjRSiz3J82hiqMn2cpWQrVfsEJy7xAcNFz4h9EuTRGOV6HtTYbHKeVpsnlXnQbHJDCjVDbRkGUw93otphgHF02CJcYovRRvRPVJh/Acttt1jbmh4o2z9ZoIrptVoAdDvu/BwIeHhjBCQTN//7ERConHBA6qWSkrxjDqex7GGNASOes4zGCbg4x1+UoQQYF1PH1r8/EgJBJg+tZlG5usNmms7vCF9vrY0BIodzzQJMst2ub4zg9tMyy9RoeoJ0ZccwrxnBTCUB9fIfPYKXNEYQgAK9YHPfcKIdNvA8F8Jw1yTJpHUQxLYEAbrFKaS2rRBMpp7mv2LAH6OUWJYxK5lFkPgso5ajl/3tZw2TPE1tGRkZGRkZGRkZGRka+9RMvPQ3cdWcvogAAAABJRU5ErkJggg=="})})]})}),void 0!=P&&Object(I.jsx)(Ze,{tileState:null===t||void 0===t?void 0:t.state.tiles[P],numberOfSelectedTiles:U,maximumSelectedTies:i.selectableTiles,onSelect:function(e){e&&(null===t||void 0===t||t.trigger(k.setTileType,{type:e})),null===t||void 0===t||t.trigger(k.selectTile,{id:void 0})},seed:_})]}),x&&Object(I.jsx)(st,{avatar:H||"",onClose:b==me.STARTED?function(){return y(!1)}:void 0,startHint:b==me.STARTED?1:0})]})},ct=(i(363),i.p+"static/media/pool.4d935788.png"),rt=i.p+"static/media/stream.81d28d94.png",ot=new Map;ot.set("pool",{title:"Plansche",text:"Ein gro\xdfes Wasserbecken in dem du herumlaufen und planschen und spritzen kannst.",img:ct}),ot.set("river",{title:"Bach",text:"Einen Bach mit Str\xf6mung und Wasserf\xe4llen in dem du Staud\xe4mme bauen kannst und Boote schwimmen l\xe4sst und mit dem Wasser spielst.",img:rt});var lt=function(e){var t,i,n,s=e.onSelect,c=e.seed,r=Object(p.f)(),o=Object(a.useState)(),l=Object(h.a)(o,2),d=l[0],u=l[1],b=Object(P.shuffle)(["pool","river"],c);var m=Object(p.g)().pathname;function f(e){return Object(I.jsx)("div",{className:"waterbody",onClick:function(){return function(e){u(e)}(e)},children:Object(I.jsx)("div",{className:"icon",children:Object(I.jsx)("img",{src:"pool"==e?ct:rt})})},e)}return Object(a.useEffect)((function(){window.scrollTo(0,0)}),[m]),Object(I.jsxs)("div",{className:"waterbody-view",children:[Object(I.jsx)("h1",{children:"Wie soll dein Spielplatz ausehen?"}),Object(I.jsx)("p",{className:"block",children:"Es soll ein Spielplatz mit viel Wasser sein ..."}),Object(I.jsx)("div",{className:"waterbody-list",children:b.map((function(e){return f(e)}))}),d&&Object(I.jsxs)("div",{className:"water-select-dialog",children:[Object(I.jsx)("div",{className:"overlay"}),Object(I.jsxs)("div",{className:"dialog",children:[Object(I.jsx)("h2",{children:null===(t=ot.get(d))||void 0===t?void 0:t.title}),Object(I.jsx)("img",{src:null===(i=ot.get(d))||void 0===i?void 0:i.img}),Object(I.jsx)("p",{children:null===(n=ot.get(d))||void 0===n?void 0:n.text}),Object(I.jsxs)("div",{className:"button-group",children:[Object(I.jsx)("button",{className:"round",onClick:function(){u(void 0)},children:Object(I.jsx)("img",{src:M})}),Object(I.jsx)("button",{className:"round",onClick:function(){d&&s(d),r.push("/playground")},children:Object(I.jsx)("img",{src:N})})]})]})]})]})},dt=(i(364),i.p+"static/media/missingtile.ac7b0a15.png"),ut=function(e){var t=e.onSubmit,i=e.initial,n=Object(p.f)(),s=Object(a.useState)(i),c=Object(h.a)(s,2),r=c[0],o=c[1];var l=Object(p.g)().pathname;return Object(a.useEffect)((function(){window.scrollTo(0,0)}),[l]),Object(I.jsxs)("div",{className:"missingtile-view",children:[Object(I.jsx)("h1",{children:"Fehlt dir noch etwas?"}),Object(I.jsx)("div",{className:"image",children:Object(I.jsx)("img",{src:dt})}),Object(I.jsx)("p",{className:"block",children:"Du hast deinen Spielplatz eingerichtet. W\xfcnschst du dir noch ein Spielger\xe4t oder Spielsache an die wir nicht gedacht haben? Dann schreibe uns deinen Wunsch auf."}),Object(I.jsx)("div",{className:"text-field",children:Object(I.jsx)("textarea",{placeholder:"Schreibe hier was dir noch fehlt.",value:r,onChange:function(e){return o(e.target.value)}})}),Object(I.jsx)("div",{className:"center",children:Object(I.jsx)("button",{onClick:function(){return t(r),void n.push("/finished")},children:"Abschicken"})})]})},ht=(i(365),i.p+"static/media/thankyou.9b3f9fd0.png"),bt=function(){var e=Object(p.f)(),t=Object(p.g)().pathname;return Object(a.useEffect)((function(){window.scrollTo(0,0)}),[t]),Object(I.jsxs)("div",{className:"finished-view",children:[Object(I.jsx)("h1",{children:"Dankesch\xf6n!"}),Object(I.jsx)("div",{className:"image",children:Object(I.jsx)("img",{src:ht})}),Object(I.jsxs)("div",{className:"block",children:["Danke, dass du uns gezeigt hast was du gut findest und dir auf dem Spielplatz w\xfcnschst.",Object(I.jsx)("br",{}),"Wenn viele Kinder uns sagen, was sie gerne wollen, k\xf6nnen wir einen besseren Spielplatz f\xfcr euch bauen. Also erz\xe4hle deinen Freunden und Nachbarn von dem Spiel!",Object(I.jsx)("div",{className:"center",onClick:function(){return e.push("/")},children:Object(I.jsx)("button",{children:"Neues Spiel"})})]}),Object(I.jsx)("div",{className:"impressum",children:Object(I.jsx)("button",{onClick:function(){return e.push("/impressum")},children:"Impressum"})})]})},pt=(i(366),function(e){var t=e.onStart,i=Object(p.f)(),n=Object(a.useState)(!1),s=Object(h.a)(n,2),c=s[0],r=s[1];return Object(a.useEffect)((function(){setTimeout((function(){r(!0),window.scrollTo(0,0)}),3e3)}),[]),Object(I.jsxs)("div",{className:"start-view",children:[Object(I.jsx)("div",{className:c?"logo fade-out":"logo",children:Object(I.jsx)("video",{width:"500",height:"250",autoPlay:!0,loop:!0,muted:!0,children:Object(I.jsx)("source",{src:"/assets/videos/logo.mp4",type:"video/mp4"})})}),Object(I.jsxs)("div",{className:"content",children:[Object(I.jsxs)("div",{className:"block",children:[Object(I.jsx)("h1",{children:"Der Spielplatz im Schillerkiez"}),"Wir wollen in eurer N\xe4he einen neuen Spielplatz bauen. Und zwar nahe beim Tempelhofer Feld auf dem alten Friedhof neben dem Park, auf einer gro\xdfen Wiese zwischen den B\xe4umen. Es soll viel Wasser zum Planschen geben und lustige Sachen zum Spielen.",Object(I.jsx)("br",{}),"Kannst du uns dabei helfen?",Object(I.jsx)("br",{}),"Was tust du gerne? Rennen und springen? H\xf6hlen bauen? Mit anderen Kindern spielen? Such dir deine Figur aus und komm mit einen tollen Spielplatz zu planen.",Object(I.jsx)("br",{}),Object(I.jsx)("span",{className:"center",children:Object(I.jsx)("button",{onClick:function(){t&&t(),i.push("/avatar")},children:"Start"})})]}),Object(I.jsx)("div",{className:"impressum",children:Object(I.jsx)("button",{onClick:function(){return i.push("/impressum")},children:"Impressum"})})]})]})}),mt=(i(367),i.p+"static/media/lighttower.7dcd6c2e.png"),ft=function(){var e=Object(p.f)(),t=Object(p.g)().pathname;return Object(a.useEffect)((function(){window.scrollTo(0,0)}),[t]),Object(I.jsxs)("div",{className:"impressum-view",children:[Object(I.jsx)("h1",{children:"Impressum"}),Object(I.jsx)("div",{className:"image",children:Object(I.jsx)("img",{src:mt})}),Object(I.jsxs)("p",{className:"block",children:[Object(I.jsx)("h2",{children:"Auftraggeber des Projektes"}),Object(I.jsxs)("span",{className:"paragraph",children:["Diakonisches Werk Berlin Stadtmitte e.V.",Object(I.jsx)("br",{}),"Gesch\xe4ftsstelle, Wilhelmstra\xdfe 115, 10963 Berlin"]}),Object(I.jsxs)("span",{className:"paragraph",children:["geschaeftsstelle@diakonie.de",Object(I.jsx)("br",{}),Object(I.jsx)("a",{href:"https://www.diakonie-stadtmitte.de",children:"www.diakonie-stadtmitte.de"}),Object(I.jsx)("br",{})]}),Object(I.jsx)("span",{className:"paragraph",children:"Gesch\xe4ftsf\xfchrung: Monika L\xfcke"}),Object(I.jsxs)("span",{className:"paragraph",children:["Design und Implementierung: ",Object(I.jsx)("br",{}),"Sidra Ashraf: ",Object(I.jsx)("a",{href:"https://www.sidra-ashraf.com/",children:"www.sidra-ashraf.com"}),Object(I.jsx)("br",{}),"Lutz Reiter: ",Object(I.jsx)("a",{href:"http://www.lu-re.de/",children:"www.lu-re.de"})]})]}),Object(I.jsx)("div",{className:"center",onClick:function(){return e.push("/")},children:Object(I.jsx)("button",{children:"Zur\xfcck zum Spiel"})})]})},jt="/api/results/",vt={gridSize:8,width:7.2,height:7.2,camera:{zoom:5},version:"0.40",selectableTiles:6},gt=function(){var e=Object(a.useState)(),t=Object(h.a)(e,2),i=t[0],n=t[1],s=Object(a.useState)(),c=Object(h.a)(s,2),r=c[0],o=c[1];function l(){return(l=Object(u.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch(jt,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(null===i||void 0===i?void 0:i.state)}).catch((function(e){console.error(e)})).then((function(){null===i||void 0===i||i.reset()}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){n(new T(vt))}),[]),Object(a.useEffect)((function(){o(null===i||void 0===i?void 0:i.state);var e=null===i||void 0===i?void 0:i.subscribe((function(e){o(e)}));return function(){null===e||void 0===e||e.unsubscribe()}}),[i]),Object(I.jsx)("div",{className:"App",children:Object(I.jsx)(b.a,{children:Object(I.jsxs)(p.c,{children:[Object(I.jsx)(p.a,{path:"/avatar",children:Object(I.jsx)(z,{onSelect:function(e){return null===i||void 0===i?void 0:i.trigger(k.setAvatar,{avatar:e})},seed:(null===r||void 0===r?void 0:r.seed)||0})}),Object(I.jsx)(p.a,{path:"/waterbody",children:Object(I.jsx)(lt,{onSelect:function(e){return null===i||void 0===i?void 0:i.trigger(k.setPlaygroundType,{type:e})},seed:(null===r||void 0===r?void 0:r.seed)||0})}),Object(I.jsx)(p.a,{path:"/playground",children:i&&Object(I.jsx)(at,{stateMachine:i,settings:vt})}),Object(I.jsx)(p.a,{path:"/missing-tile",children:Object(I.jsx)(ut,{initial:(null===r||void 0===r?void 0:r.missing)||"",onSubmit:function(e){null===i||void 0===i||i.trigger(k.setMissingText,{text:e}),function(){l.apply(this,arguments)}()}})}),Object(I.jsx)(p.a,{path:"/finished",children:Object(I.jsx)(bt,{})}),Object(I.jsx)(p.a,{path:"/impressum",children:Object(I.jsx)(ft,{})}),Object(I.jsx)(p.a,{path:"/",children:Object(I.jsx)(pt,{})})]})})})};o.a.render(Object(I.jsx)(c.a.StrictMode,{children:Object(I.jsx)(gt,{})}),document.getElementById("root"))}},[[368,1,2]]]);
//# sourceMappingURL=main.37ecc965.chunk.js.map